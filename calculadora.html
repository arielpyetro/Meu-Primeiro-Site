<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Calculadora Avançada - Ariel</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
  
  * { 
    box-sizing: border-box; 
    margin: 0;
    padding: 0;
  }
  
  body {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 25%, #5d6d7e 50%, #85929e 75%, #bdc3c7 100%);
    background-size: 400% 400%;
    animation: gradientShift 20s ease infinite;
    font-family: 'Inter', sans-serif;
    color: #ffffff;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
  }
  
  .particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    overflow: hidden;
  }
  
  .particle {
    position: absolute;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    animation: float 6s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }
  
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  .top-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(44, 62, 80, 0.9);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    padding: 15px 30px;
    z-index: 1000;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .nav-links {
    display: flex;
    gap: 25px;
  }
  
  .nav-links a {
    color: #ffffff;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.95rem;
    padding: 8px 16px;
    border-radius: 25px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }
  
  .nav-links a::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }
  
  .nav-links a:hover::before {
    left: 100%;
  }
  
  .nav-links a:hover {
    background: rgba(189, 195, 199, 0.2);
    transform: translateY(-2px);
  }
  
  .lang-selector {
    background: rgba(52, 73, 94, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #ffffff;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .lang-selector:hover {
    background: rgba(93, 109, 126, 0.8);
  }
  

  .main-content {
    margin-top: 100px;
    width: 100%;
    max-width: 500px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  h1 {
    font-weight: 900;
    font-size: 3.5rem;
    margin-bottom: 30px;
    background: linear-gradient(135deg, #ecf0f1, #bdc3c7, #95a5a6, #7f8c8d);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientShift 4s ease-in-out infinite;
    text-align: center;
    text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
  }
  
  .tabs {
    display: flex;
    background: rgba(44, 62, 80, 0.8);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 25px;
    overflow: hidden;
    margin-bottom: 30px;
    width: 100%;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }
  
  .tab {
    flex: 1;
    padding: 18px 0;
    text-align: center;
    cursor: pointer;
    font-weight: 600;
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.7);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  
  .tab.active {
    background: linear-gradient(135deg, #34495e, #2c3e50);
    color: #ffffff;
    transform: scale(1.02);
  }
  
  .tab:not(.active):hover {
    background: rgba(93, 109, 126, 0.3);
    color: #ffffff;
  }
  
  .calculator-container {
    background: rgba(44, 62, 80, 0.8);
    backdrop-filter: blur(30px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 30px;
    padding: 35px;
    width: 100%;
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
  }
  
  .calculator-container::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255,255,255,0.03), transparent);
    animation: shimmer 3s linear infinite;
  }
  
  @keyframes shimmer {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
  }
  
  .content {
    display: none;
    flex-direction: column;
    gap: 20px;
    position: relative;
    z-index: 1;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .content.active { 
    display: flex; 
    opacity: 1;
    transform: translateY(0);
  }
  
  .content.fade-out {
    opacity: 0;
    transform: translateY(-20px);
  }
  
  #display {
    width: 100%;
    font-size: 2.8rem;
    font-weight: 300;
    padding: 20px 25px;
    border-radius: 20px;
    border: none;
    background: rgba(0, 0, 0, 0.4);
    color: #ffffff;
    text-align: right;
    margin-bottom: 25px;
    font-family: 'Inter', monospace;
    letter-spacing: 1px;
  }
  
  #display:focus {
    outline: 2px solid rgba(189, 195, 199, 0.5);
  }
  
  .grid-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    margin-bottom: 20px;
  }
  
  .calculator-container button {
    padding: 20px;
    font-size: 1.4rem;
    font-weight: 600;
    border-radius: 18px;
    border: none;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    font-family: 'Inter', sans-serif;
  }
  
  .calculator-container button[data-val] {
    background: rgba(189, 195, 199, 0.2);
    color: #ffffff;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .calculator-container button[data-val]:hover {
    background: rgba(189, 195, 199, 0.3);
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }
  
  .limpar {
    background: linear-gradient(135deg, #95a5a6, #7f8c8d) !important;
    color: #ffffff !important;
  }
  
  .limpar:hover {
    background: linear-gradient(135deg, #7f8c8d, #5d6d7e) !important;
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(149, 165, 166, 0.4);
  }
  
  .backspace {
    background: linear-gradient(135deg, #85929e, #5d6d7e) !important;
    color: #ffffff !important;
  }
  
  .backspace:hover {
    background: linear-gradient(135deg, #5d6d7e, #34495e) !important;
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(133, 146, 158, 0.4);
  }

  .equal {
    background: linear-gradient(135deg, #34495e, #2c3e50) !important;
    color: #ffffff !important;
    font-size: 2rem !important;
    border-radius: 25px !important;
    grid-column: span 4;
    margin-top: 10px;
  }
  
  .equal:hover {
    background: linear-gradient(135deg, #2c3e50, #1a252f) !important;
    transform: translateY(-3px);
    box-shadow: 0 15px 35px rgba(52, 73, 94, 0.4);
  }
  
  #avancada button {
    background: linear-gradient(135deg, rgba(189, 195, 199, 0.2), rgba(149, 165, 166, 0.1));
    color: #ffffff;
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 18px;
    margin-bottom: 12px;
    font-size: 1.1rem;
    border-radius: 15px;
    transition: all 0.3s ease;
  }
  
  #avancada button:hover {
    background: linear-gradient(135deg, #85929e, #5d6d7e);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(133, 146, 158, 0.3);
  }
  
  #graficoContainer {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-width: 500px;
    background: rgba(44, 62, 80, 0.9);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 20px;
    border-radius: 20px;
    display: none;
    z-index: 1000;
  }
  
  canvas {
    width: 100% !important;
    height: 300px !important;
    border-radius: 10px;
  }
  
  .calculator-container button:active {
    transform: scale(0.95);
  }
  
  @media (max-width: 768px) {
    .main-content {
      margin-top: 80px;
      padding: 0 10px;
    }
    
    h1 {
      font-size: 2.2rem;
    }
    
    .calculator-container {
      padding: 25px 15px;
    }
    
    #display {
      font-size: 2rem;
      padding: 15px 20px;
    }
    
    .grid-buttons {
      gap: 10px;
    }
    
    .calculator-container button {
      padding: 15px;
      font-size: 1.2rem;
    }
    
    .nav-links {
      gap: 10px;
    }
    
    .nav-links a {
      font-size: 0.8rem;
      padding: 6px 10px;
    }
    
    .top-nav {
      padding: 10px 15px;
    }
    
    .tab {
      padding: 15px 0;
      font-size: 1rem;
    }
  }
  
  @media (max-width: 480px) {
    .main-content {
      padding: 0 5px;
    }
    
    h1 {
      font-size: 1.8rem;
      margin-bottom: 20px;
    }
    
    .calculator-container {
      padding: 20px 10px;
    }
    
    #display {
      font-size: 1.8rem;
      padding: 12px 15px;
    }
    
    .grid-buttons {
      gap: 8px;
    }
    
    .calculator-container button {
      padding: 12px;
      font-size: 1.1rem;
    }
    
    .equal {
      font-size: 1.5rem !important;
    }
    
    .nav-links {
      flex-direction: column;
      gap: 5px;
    }
    
    .top-nav {
      flex-direction: column;
      padding: 10px;
    }
  }
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<nav class="top-nav">
  <div class="nav-links">
    <a href="#" id="menuInicio">Início</a>
    <a href="#" id="menuProjetos">Meus Projetos</a>
  </div>
  <select class="lang-selector" id="langSelector" aria-label="Selecionar idioma">
    <option value="pt">Português</option>
    <option value="es">Español</option>
    <option value="en">English</option>
  </select>
</nav>

<div class="main-content">
  <h1 id="titulo">Calculadora Avançada</h1>

  <div class="tabs">
    <div class="tab active" data-tab="basica">Básica</div>
    <div class="tab" data-tab="avancada">Avançada</div>
  </div>

  <div class="calculator-container">
    <div id="basica" class="content active">
      <input type="text" id="display" readonly autocomplete="off" spellcheck="false" placeholder="0" />
      <div class="grid-buttons">
        <button class="limpar" id="clear">C</button>
        <button class="backspace" id="backspace">⌫</button>
        <button data-val="÷">÷</button>
        <button data-val="×">×</button>

        <button data-val="7">7</button>
        <button data-val="8">8</button>
        <button data-val="9">9</button>
        <button data-val="−">−</button>

        <button data-val="4">4</button>
        <button data-val="5">5</button>
        <button data-val="6">6</button>
        <button data-val="+">+</button>

        <button data-val="1">1</button>
        <button data-val="2">2</button>
        <button data-val="3">3</button>
        <button data-val="0" style="grid-column: span 2;">0</button>
        <button data-val=".">.</button>
      </div>
      <button class="equal" id="equals">=</button>
    </div>

    <div id="avancada" class="content">
      <button id="equacao1GrauBtn">Equação 1º Grau</button>
      <button id="equacao2GrauBtn">Equação 2º Grau</button>
      <button id="sistemaLinearBtn">Sistema Linear 2x2</button>
      <button id="exponencialLogBtn">Exponencial / Logaritmo</button>
      <button id="regraDe3Btn">Regra de 3</button>
      <button id="porcentagemBtn">Porcentagem</button>
      <button id="graficoFuncao2GrauBtn">Gráfico função 2º Grau</button>
    </div>
  </div>
</div>

<div id="graficoContainer">
  <canvas id="grafico"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const translations = {
    pt: {
      menuInicio: "Início",
      menuProjetos: "Meus Projetos",
      titulo: "Calculadora Avançada",
      tabBasica: "Básica",
      tabAvancada: "Avançada",
      limpar: "C",
      igual: "=",
      equacao1Grau: "Equação 1º Grau",
      equacao2Grau: "Equação 2º Grau",
      sistemaLinear: "Sistema Linear 2x2",
      exponencialLog: "Exponencial / Logaritmo",
      regraDe3: "Regra de 3",
      porcentagem: "Porcentagem",
      graficoFuncao2Grau: "Gráfico função 2º Grau",
      promptA: "Valor de a:",
      promptB: "Valor de b:",
      promptC: "Valor de c:",
      promptA1: "Valor a1:",
      promptB1: "Valor b1:",
      promptC1: "Valor c1:",
      promptA2: "Valor a2:",
      promptB2: "Valor b2:",
      promptC2: "Valor c2:",
      promptBaseExp: "Base:",
      promptExpoente: "Expoente:",
      promptValorLog: "Valor:",
      promptBaseLog: "Base (deixe vazio para ln):",
      promptX1: "Valor 1:",
      promptY1: "Valor 2:",
      promptX2: "Valor 3:",
      alertNao1Grau: "Não é equação do 1º grau (a=0)",
      alertSemRaizes: "Sem raízes reais",
      alertRaizUnica: "Raiz única: x =",
      alertRaizes: "x1 =",
      alertRaizes2: "x2 =",
      alertSistemaSemSolucao: "Sistema sem solução única",
      alertResultadoRegra3: "Resultado:",
      alertPorcentagem: "Porcentagem de",
      inputInvalido: "Entrada inválida",
      escolhaInvalida: "Escolha inválida"
    },
    es: {
      menuInicio: "Inicio",
      menuProjetos: "Mis Proyectos",
      titulo: "Calculadora Avanzada",
      tabBasica: "Básica",
      tabAvancada: "Avanzada",
      limpar: "C",
      igual: "=",
      equacao1Grau: "Ecuación 1º Grado",
      equacao2Grau: "Ecuación 2º Grado",
      sistemaLinear: "Sistema Lineal 2x2",
      exponencialLog: "Exponencial / Logaritmo",
      regraDe3: "Regla de 3",
      porcentagem: "Porcentaje",
      graficoFuncao2Grau: "Gráfico función 2º Grado",
      promptA: "Valor de a:",
      promptB: "Valor de b:",
      promptC: "Valor de c:",
      promptA1: "Valor a1:",
      promptB1: "Valor b1:",
      promptC1: "Valor c1:",
      promptA2: "Valor a2:",
      promptB2: "Valor b2:",
      promptC2: "Valor c2:",
      promptBaseExp: "Base:",
      promptExpoente: "Exponente:",
      promptValorLog: "Valor:",
      promptBaseLog: "Base (dejar vacío para ln):",
      promptX1: "Valor 1:",
      promptY1: "Valor 2:",
      promptX2: "Valor 3:",
      alertNao1Grau: "No es ecuación de 1º grado (a=0)",
      alertSemRaizes: "Sin raíces reales",
      alertRaizUnica: "Raíz única: x =",
      alertRaizes: "x1 =",
      alertRaizes2: "x2 =",
      alertSistemaSemSolucao: "Sistema sin solución única",
      alertResultadoRegra3: "Resultado:",
      alertPorcentagem: "Porcentaje de",
      inputInvalido: "Entrada inválida",
      escolhaInvalida: "Opción inválida"
    },
    en: {
      menuInicio: "Home",
      menuProjetos: "My Projects",
      titulo: "Advanced Calculator",
      tabBasica: "Basic",
      tabAvancada: "Advanced",
      limpar: "C",
      igual: "=",
      equacao1Grau: "1st Degree Equation",
      equacao2Grau: "2nd Degree Equation",
      sistemaLinear: "2x2 Linear System",
      exponencialLog: "Exponential / Logarithm",
      regraDe3: "Rule of Three",
      porcentagem: "Percentage",
      graficoFuncao2Grau: "2nd Degree Function Graph",
      promptA: "Value of a:",
      promptB: "Value of b:",
      promptC: "Value of c:",
      promptA1: "Value a1:",
      promptB1: "Value b1:",
      promptC1: "Value c1:",
      promptA2: "Value a2:",
      promptB2: "Value b2:",
      promptC2: "Value c2:",
      promptBaseExp: "Base:",
      promptExpoente: "Exponent:",
      promptValorLog: "Value:",
      promptBaseLog: "Base (leave empty for ln):",
      promptX1: "Value 1:",
      promptY1: "Value 2:",
      promptX2: "Value 3:",
      alertNao1Grau: "Not a 1st degree equation (a=0)",
      alertSemRaizes: "No real roots",
      alertRaizUnica: "Single root: x =",
      alertRaizes: "x1 =",
      alertRaizes2: "x2 =",
      alertSistemaSemSolucao: "System has no unique solution",
      alertResultadoRegra3: "Result:",
      alertPorcentagem: "Percentage of",
      inputInvalido: "Invalid input",
      escolhaInvalida: "Invalid choice"
    }
  };

  let lang = localStorage.getItem('lang') || 'pt';

  const langSelector = document.getElementById('langSelector');
  const menuInicio = document.getElementById('menuInicio');
  const menuProjetos = document.getElementById('menuProjetos');
  const titulo = document.getElementById('titulo');
  const tabs = document.querySelectorAll('.tab');
  const clearBtn = document.getElementById('clear');
  const equalsBtn = document.getElementById('equals');

  const backspaceBtn = document.getElementById('backspace');
  const equacao1GrauBtn = document.getElementById('equacao1GrauBtn');
  const equacao2GrauBtn = document.getElementById('equacao2GrauBtn');
  const sistemaLinearBtn = document.getElementById('sistemaLinearBtn');
  const exponencialLogBtn = document.getElementById('exponencialLogBtn');
  const regraDe3Btn = document.getElementById('regraDe3Btn');
  const porcentagemBtn = document.getElementById('porcentagemBtn');
  const graficoFuncao2GrauBtn = document.getElementById('graficoFuncao2GrauBtn');

  function updateTexts() {
    menuInicio.innerText = translations[lang].menuInicio;
    menuProjetos.innerText = translations[lang].menuProjetos;
    titulo.innerText = translations[lang].titulo;

    tabs[0].innerText = translations[lang].tabBasica;
    tabs[1].innerText = translations[lang].tabAvancada;

    clearBtn.innerText = translations[lang].limpar;
    equalsBtn.innerText = translations[lang].igual;

    equacao1GrauBtn.innerText = translations[lang].equacao1Grau;
    equacao2GrauBtn.innerText = translations[lang].equacao2Grau;
    sistemaLinearBtn.innerText = translations[lang].sistemaLinear;
    exponencialLogBtn.innerText = translations[lang].exponencialLog;
    regraDe3Btn.innerText = translations[lang].regraDe3;
    porcentagemBtn.innerText = translations[lang].porcentagem;
    graficoFuncao2GrauBtn.innerText = translations[lang].graficoFuncao2Grau;
  }

  langSelector.value = lang;
  updateTexts();

  langSelector.addEventListener('change', e => {
    lang = e.target.value;
    localStorage.setItem('lang', lang);
    updateTexts();
  });

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const currentActive = document.querySelector('.content.active');
      const targetContent = document.getElementById(tab.dataset.tab);
      
      if (currentActive === targetContent) return;
      
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');

      currentActive.classList.add('fade-out');
      
      setTimeout(() => {
        currentActive.classList.remove('active', 'fade-out');
        targetContent.classList.add('active');
        
        if(tab.dataset.tab === 'basica'){
          document.getElementById('graficoContainer').style.display = 'none';
        }
        
        targetContent.offsetHeight;
      }, 250);
    });
  });

  const display = document.getElementById('display');

  document.querySelectorAll('#basica button[data-val]').forEach(btn => {
    btn.addEventListener('click', () => {
      if (display.value === '0' || display.value === translations[lang].inputInvalido) {
        display.value = btn.dataset.val;
      } else {
        display.value += btn.dataset.val;
      }
    });
  });

  clearBtn.addEventListener('click', () => {
    display.value = '0';
  });

  backspaceBtn.addEventListener('click', () => {
    if (display.value.length > 1) {
      display.value = display.value.slice(0, -1);
    } else {
      display.value = '0';
    }
  });

  equalsBtn.addEventListener('click', () => {
    try {
      let expression = display.value;
      expression = expression.replace(/÷/g, '/').replace(/×/g, '*').replace(/−/g, '-');
      
      if(/[^0-9+\-*/.() ]/.test(expression)) {
        display.value = translations[lang].inputInvalido;
        return;
      }
      let result = eval(expression);
      display.value = result;
    } catch {
      display.value = translations[lang].inputInvalido;
    }
  });

  function promptNum(msg) {
    let val = prompt(msg);
    if(val === null) throw 'cancel';
    if(val.trim() === '' || isNaN(Number(val))) throw translations[lang].inputInvalido;
    return Number(val);
  }

  equacao1GrauBtn.addEventListener('click', () => {
    try {
      const a = promptNum(translations[lang].promptA);
      const b = promptNum(translations[lang].promptB);
      if(a === 0) {
        alert(translations[lang].alertNao1Grau);
        return;
      }
      const x = -b / a;
      alert(`${translations[lang].alertRaizUnica} ${x}`);
    } catch (e) {
      if(e !== 'cancel') alert(e);
    }
  });

  equacao2GrauBtn.addEventListener('click', () => {
    try {
      const a = promptNum(translations[lang].promptA);
      const b = promptNum(translations[lang].promptB);
      const c = promptNum(translations[lang].promptC);
      if(a === 0) {
        alert(translations[lang].alertNao1Grau);
        return;
      }
      const delta = b * b - 4 * a * c;
      if(delta < 0) {
        alert(translations[lang].alertSemRaizes);
        return;
      }
      if(delta === 0) {
        const x = -b / (2 * a);
        alert(`${translations[lang].alertRaizUnica} ${x}`);
        return;
      }
      const x1 = (-b + Math.sqrt(delta)) / (2 * a);
      const x2 = (-b - Math.sqrt(delta)) / (2 * a);
      alert(`${translations[lang].alertRaizes} ${x1}\n${translations[lang].alertRaizes2} ${x2}`);
    } catch (e) {
      if(e !== 'cancel') alert(e);
    }
  });

  sistemaLinearBtn.addEventListener('click', () => {
    try {
      const a1 = promptNum(translations[lang].promptA1);
      const b1 = promptNum(translations[lang].promptB1);
      const c1 = promptNum(translations[lang].promptC1);
      const a2 = promptNum(translations[lang].promptA2);
      const b2 = promptNum(translations[lang].promptB2);
      const c2 = promptNum(translations[lang].promptC2);
      const det = a1 * b2 - a2 * b1;
      if(det === 0) {
        alert(translations[lang].alertSistemaSemSolucao);
        return;
      }
      const x = (c1 * b2 - c2 * b1) / det;
      const y = (a1 * c2 - a2 * c1) / det;
      alert(`x = ${x}\ny = ${y}`);
    } catch (e) {
      if(e !== 'cancel') alert(e);
    }
  });

  exponencialLogBtn.addEventListener('click', () => {
    try {
      const escolha = prompt(`${translations[lang].exponencialLog}:\n1 - Exponencial\n2 - Logaritmo`);
      if(escolha === null) return;
      if(escolha.trim() === '') throw translations[lang].inputInvalido;

      if(escolha === '1') {
        const base = promptNum(translations[lang].promptBaseExp);
        const expoente = promptNum(translations[lang].promptExpoente);
        const resultado = Math.pow(base, expoente);
        alert(`Resultado: ${resultado}`);
      } else if(escolha === '2') {
        const valor = promptNum(translations[lang].promptValorLog);
        const base = prompt(translations[lang].promptBaseLog);
        let resultado;
        if(base === null) return;
        if(base.trim() === '') {
          resultado = Math.log(valor);
        } else if(!isNaN(Number(base)) && Number(base) > 0) {
          resultado = Math.log(valor) / Math.log(Number(base));
        } else {
          alert(translations[lang].inputInvalido);
          return;
        }
        alert(`Resultado: ${resultado}`);
      } else {
        alert(translations[lang].escolhaInvalida);
      }
    } catch (e) {
      if(e !== 'cancel') alert(e);
    }
  });

  regraDe3Btn.addEventListener('click', () => {
    try {
      const x1 = promptNum(translations[lang].promptX1);
      const y1 = promptNum(translations[lang].promptY1);
      const x2 = promptNum(translations[lang].promptX2);
      const resultado = (y1 * x2) / x1;
      alert(`${translations[lang].alertResultadoRegra3} ${resultado}`);
    } catch (e) {
      if(e !== 'cancel') alert(e);
    }
  });

  porcentagemBtn.addEventListener('click', () => {
    try {
      const total = promptNum('Total:');
      const parte = promptNum('Parte:');
      const resultado = (parte / total) * 100;
      alert(`${translations[lang].alertPorcentagem} ${resultado.toFixed(2)}%`);
    } catch (e) {
      if(e !== 'cancel') alert(e);
    }
  });

  graficoFuncao2GrauBtn.addEventListener('click', () => {
    try {
      const a = promptNum(translations[lang].promptA);
      const b = promptNum(translations[lang].promptB);
      const c = promptNum(translations[lang].promptC);

      if(a === 0) {
        alert(translations[lang].alertNao1Grau);
        return;
      }

      const ctx = document.getElementById('grafico').getContext('2d');
      const dataPoints = [];
      for(let x = -20; x <= 20; x += 0.5) {
        const y = a*x*x + b*x + c;
        dataPoints.push({x: x, y: y});
      }

      if(window.graficoInstance) {
        window.graficoInstance.destroy();
      }

      window.graficoInstance = new Chart(ctx, {
        type: 'line',
        data: {
          datasets: [{
            label: translations[lang].graficoFuncao2Grau,
            data: dataPoints,
            borderColor: '#bdc3c7',
            backgroundColor: 'rgba(189, 195, 199, 0.2)',
            pointRadius: 0,
            borderWidth: 3,
            fill: true,
            tension: 0.2,
          }]
        },
        options: {
          scales: {
            x: {
              type: 'linear',
              title: { display: true, text: 'x', color: '#ffffff' },
              min: -20,
              max: 20,
              ticks: { stepSize: 5, color: '#ffffff' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            y: {
              title: { display: true, text: 'y', color: '#ffffff' },
              beginAtZero: false,
              ticks: { color: '#ffffff' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          },
          animation: {
            duration: 1000,
            easing: 'easeInOutQuart',
          },
          plugins: {
            legend: {
              labels: { color: '#bdc3c7' }
            }
          },
          responsive: true,
          maintainAspectRatio: false
        }
      });

      document.getElementById('graficoContainer').style.display = 'block';

    } catch (e) {
      if(e !== 'cancel') alert(e);
    }
  });

  function createParticles() {
    const particlesContainer = document.getElementById('particles');
    const particleCount = 50;

    for (let i = 0; i < particleCount; i++) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      
      const size = Math.random() * 4 + 2;
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      const delay = Math.random() * 6;
      
      particle.style.width = size + 'px';
      particle.style.height = size + 'px';
      particle.style.left = x + 'px';
      particle.style.top = y + 'px';
      particle.style.animationDelay = delay + 's';
      
      particlesContainer.appendChild(particle);
    }
  }

  createParticles();

  display.value = '0';

</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98870af0d1782755',t:'MTc1OTQzNzkxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
